<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>{{ title }}</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="{{ pathToRoot }}assets/styles/modern.css">
        <link rel="stylesheet" href="{{ pathToRoot }}assets/styles/styleguide.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.css">
    </head>
    <body>

        <div class="sg-page">

            <div class="sg-page-hd">
                {% include 'partials/_nav.html' %}
            </div>

            <div class="sg-page-bd">
                <div class="sg-wrapper">
                    {% block content %}{% endblock %}
                </div>
            </div>

        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>

        <script src="{{ pathToRoot }}assets/vendor/requirejs/require.js?v=1.0.0"></script>
        <script src="{{ pathToRoot }}assets/scripts/config.js?v=1.0.0"></script>
        <script>
            /**
             * Global constants
             *
             * TODO: ideally these values would be filled in from the server side
             *
             * @class SETTINGS
             * @static
             */
            window.SETTINGS = {};

            /**
             * Indicates whether we are running on a production environment
             *
             * @property IS_PRODUCTION
             * @type Boolean
             * @final
             */
            SETTINGS.IS_PRODUCTION = false;

            /**
             * Appended to query string for versioning of network resources (CSS,
             * JavaScript, etc). This version number should be updated in production
             * for every release.
             *
             * @property APP_VERSION
             * @type {String}
             * @final
             */
            SETTINGS.APP_VERSION = '1.0.0';

             /**
             * Set to true to allow application to output to browser console, false
             * to silence all console output. This should be set to `false` on
             * production.
             *
             * @property LOG_CONSOLE
             * @type Boolean
             * @final
             */
            SETTINGS.LOG_CONSOLE = !SETTINGS.IS_PRODUCTION;

            /**
             * Appended to query string to defeat caching of network resources (CSS,
             * JavaScript, etc). Should be set to '' on production
             *
             * @property CACHE_BUSTER
             * @type String
             * @final
             */
            SETTINGS.CACHE_BUSTER = SETTINGS.IS_PRODUCTION ? '' : '&bust=' + Math.random();

            /**
             * Root path for all JavaScript files
             *
             * @property SCRIPT_PATH
             * @type String
             * @final
             */
            SETTINGS.SCRIPT_PATH = '{{ pathToRoot }}assets/scripts/';

            /**
             * Set any RequireJs configuration that is dependent on dynamic
             * configuration variables. Note that this config data is merged into
             * any other require.config() statements defined elsewhere.
             */
            require.config({
                // Script path
                baseUrl: SETTINGS.SCRIPT_PATH,

                // Params to append to the end of each js file request
                urlArgs: 'v=' + SETTINGS.APP_VERSION + SETTINGS.CACHE_BUSTER
            });

            /**
             * Set route and kick off RequireJs, which begins loading of scripts
             * starting from main.js.
             */
            require(['main']);
        </script>

    </body>
</html>